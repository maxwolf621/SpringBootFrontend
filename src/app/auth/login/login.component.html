<div dir="rtl">
  <button mat-mini-fab [mat-dialog-close]="true">
      <mat-icon class="close-icon">close</mat-icon>
  </button>
</div>

<h2 mat-dialog-title>Login</h2>


  <form [formGroup]="form" fxLayout="column" fxLayoutAlign="space-around stretch" fxLayoutGap="10px" 
        (ngSubmit)="activate(page)">

    <!-- NAME -->
    <mat-form-field appearance="legacy" *ngIf="form.contains('name')" @inflate>
      <mat-label>Full name</mat-label>
      <input matInput formControlName="name">
      <mat-error *ngIf="form.controls.name.errors?.required">
        Please specify your name here
      </mat-error>
    </mat-form-field>
  
    <!-- EMAIL -->
    <mat-form-field appearance="legacy" *ngIf="form.contains('email')" @inflate>
      <mat-label>Email</mat-label>
      <input matInput formControlName="email">
      <mat-error *ngIf="form.controls.email.errors?.required">
        Please specify an email address
      </mat-error>
      <mat-error *ngIf="form.controls.email.errors?.email">
        Ooops! it looks like this is not a valid email
      </mat-error>
    </mat-form-field>
  
    <!-- PASSWORD -->
    <mat-form-field appearance="legacy" *ngIf="form.contains('password')" @inflate>
      <mat-label>Password</mat-label>
      <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password">
      <mat-icon matSuffix (click)="hidePassword = !hidePassword">
        {{ hidePassword ? 'visibility_off' : 'visibility'}}
      </mat-icon>
      <mat-error *ngIf="form.controls.password.errors?.required">
        A password is required
      </mat-error>
      <mat-hint class="mat-link" align="end" (click)="switchPage('forgotPassword')" *ngIf="page == 'login'" @inflate>Forgot password?</mat-hint>
    </mat-form-field>

  
    <!-- NEW PASSWORD -->
    <mat-form-field appearance="legacy" *ngIf="form.contains('newPassword')" @inflate>
      <mat-label>New  password</mat-label>
      <input matInput formControlName="newPassword">
      <mat-error *ngIf="form.controls.newPassword.errors?.required">
        A new password is required
      </mat-error>
    </mat-form-field>
  
    <!-- ACTION BUTTON -->
    <button mat-stroked-button color="primary" type="submit" [disabled]="!form.valid" class="btn">
      submit
    </button>
  
    <mat-progress-bar *ngIf="progress" mode="indeterminate" @inflate></mat-progress-bar>
  
  </form>
  
  <p class="mat-small" *ngIf="page == 'login'">
    Are you a new user? <span class="mat-link" (click)="switchPage('register')">Register</span>
  </p>
  
  <p class="mat-small" *ngIf="page === 'register' || page === 'forgotPassword'">
    Already have login and password? <span class="mat-link" (click)="switchPage('login')">Sign-in</span>
  </p>
  



